## github 
github 是一个代码托管平台，也是一个开源项目平台，互联网项目朋友圈。

### 创建第一个仓库
- 点击 github 页面上的 new 或者 create repository, 跳转到新建仓库页面 
- 输入仓库名 `你的用户名.github.io` ,简单输入一些描述，选择 public, 初始化的时选择 add README file， 然后创建
- 使用 add file 下的 create new file 创建一个 index.html，里面随便写点内容，输入留言并提交
- 提交成功之后浏览器访问 `你的用户名.github.io` 就会看到你刚才新建的 html 了

其实每一个 github 的仓库都是一个服务器， 默认 `你的用户名.github.io` 仓库下的 main 分支(房间),可以被访问，地址是 `你的用户名.github.io`。当访问服务器下的内容是，默认打开的是根目录的 index.html，没有的话打开的是 README.md。可以使用路径访问其他的内容比如 `你的用户名.github.io/xxx.html`

其他的仓库需要使用额外的 gh-pages 分支才能访问。


### 第一次克隆仓库到本地更新并上传
前提是网上已经有一个仓库，并且仓库内有内容。然后我们克隆这个仓库到本地，做开发，然后将开发后的上传到网上。
想要克隆 github 仓库到本地的话，需要本地安装 git 软件或者 git 客户端(我们没有选择)，如果你安装了 gitbash 命令行的话， git 软件默认就安装到了你的电脑上(全局安装的哪里都能用)，可以使用命令行敲 git --version 命令查看 git 软件版本号

- 点击网页上的仓库的 code 按钮，选择 Https 方式，复制链接地址
- 在电脑上选择一个存储该项目的位置，打开命令行工具，使用 `git clone 复制的地址`命令，克隆项目到该目录 (其实克隆的只是仓库内的的 main 分支的内容)
- 在 vscode 中打开项目开发，其实是本地开发网上不会变。
- 想要更新的时候(就是将自己对项目的修改记录下来)，需要使用 git 命令上传到仓库。
  - 进入到仓库的文件夹，打开命令行
  - 执行 `git add .` 命令。该命令的作用是将所有的修改提交到远端缓存下来(让远端记录你的所有修改，并不是直接上传)。  . 的意思是所有修改，可以换成具体的文件名比如  index.html 就是将 index.html 的修改让远端缓存
  - 执行 `git commit -m'更新的版本留言'`。该命令的作用是将缓存的修改/更新，制作成版本，并提交版本留言。
    - 如果是第一次使用 git 软件，和网上的 github 关联时，会失败，提示请告诉我你是谁？
    - 按照提示分别执行两句话 
      `git config --global user.email "you@example.com"`  
      `git config --global user.name "Your Name"`
      告诉 github 你是谁，以后这个系统就知道你是谁了，无须第二次
    - 再次重新执行 commit 那句话，就会做版本成功。
  - 执行 `git push` 命令。该命令的作用是，将做好的版本，上传到网上
    - windows 需要输入密码
- 以后该仓库的更新，只要本地有仓库(并且本地的版本和网上的一致)直接使用 git 三步 (add commit push) 更新即可


### 网上已有空仓库，如何本地开发上传
- 网上新建仓库，不添加任何内容
- 本地新建文件夹和网上的存在的仓库重名(最好重名)
- 在新建的文件夹中打开命令行工具，执行 `git init` 命令，作用是将文件夹制作成 git 空仓库。会生成一个隐藏的 .git 文件夹。以及创建一个分支叫 master (原本网上创建仓库默认分支是 main)
- 执行 `git branch -M main` 将当前分支重命名成 main
- 更新下文件夹里面的内容
- 将更新的内容上传到远端仓库 先执行 `git add .`
- 然后在执行 `git commit -m'留言'`
- 最后如果直接 `git push` 的话会失败，因为远端和本地并没有关联，需要将本地的仓库和远端关联
- 执行 `git remote add origin https://github.com/Sunny-zz/0924.git` 给本地添加一个远端的地址起名字叫 origin
- 如果在执行 `git push` 的话依然会失败，因为远端是空仓库，什么都没有，因为远端没有 main 分支，默认 `git push` 的功能，将当前的分支推送当远端对应的分支
- 执行 `git push -u origin main`  提交到远端(origin)的  没有 main 的话会新建


### 添加 ssh 
因为每次下载使用的都是 HTTPS 方式，所以每次上传都需要输入用户名密码，很麻烦。这种情况可以使用 ssh 方式处理。ssh 是使用系统的秘钥和 github 网站关联。
- 在电脑的任意位置打开命令行工具
- 使用 `cd ~` 跳转到电脑用户主目录(存储的系统的配置)
- 使用 `ssh-keygen` 命令生成系统秘钥(一直回车，直到看到一个的密码图为止)，生成在电脑的默认位置
- 执行 `cd .ssh/` 进入到 .ssh 文件夹 执行 `ls` 命令就会看到生成好的公钥和私钥 id_rsa  id_rsa.pub
- 执行 `cat id_rsa.pub` 查看公钥的文本内容，复制
- 打开 github 网站的设置，找到 SSH and GPG keys，点击 new ssh key,新建一个 ssh key， 起名字，将赋值的公钥粘贴，保存
- 添加好 ssh 之后，以后的关联 github 的操作都可以使用 ssh 链接操作了。


### 多个用户操作同一个仓库的同一个分支 
需要创建一个新的仓库，添加上内容，还需要添加合作的人员(打开仓库的设置，找到 Manage access 添加合作人员)。
根据多个用户修改的内容不同分两种情况
1. 修改或更新的内容和同事 a 的没关系
    - 同事 a 克隆了项目到本地，一顿操作，更新了 项目，并上传了
    - 同事 b 也克隆了项目到本地(克隆的时间在 同事 a 更新上传之前)，一顿操作，修改的不同文件
    - 同事 b 正常操作，然后上传，但是上传会失败，提示更新被拒绝，远端存在本地不存在的工作(版本)，你在更新之前要整合远端的工作(版本)，推荐使用 `git pull` 命令

    - 执行 `git pull` 命令拉取远端存在的优先于本地的更新，会弹出一个版本留言提示(因为两个版本：同事a提交的和自己未提交的，自动合并(两个版本没有冲突)成了一个版本， 让你提交自动合并的版本留言，一般选择默认留言即可)，直接使用 shift + z + z 保存留言即可，

    - 执行 `git push` 就可以提交更新了。因为所有的修改都缓存了，所有的版本都做好了。

    - 因此来说多个人维护同一个仓库的同一个分支，需要不断的拉取远端的更新(git pull)

2. 修改或更新的内容和同事 a 的有关系（修改的同一个文件）
    - 同事 a 克隆了项目到本地，一顿操作，更新了 项目，并上传了
    - 同事 b 也克隆了项目到本地(克隆的时间在 同事 a 更新上传之前)，一顿操作 修改的和 a 是一个文件 
    - 同事 b 正常操作，然后上传，但是上传会失败，提示更新被拒绝，远端存在本地不存在的工作(版本)，你在更新之前要整合远端的工作(版本)，推荐使用 `git pull` 命令
    - 执行 `git pull` 命令拉取远端存在的优先于本地的更新，拉取完毕之后会提示自动合并失败，让你手动处理冲突，然后提交
    - 当你手动解决冲突的时候，肯定修改了对应的内容，所以此次修改远端没有记录，需要使用 git 三步上传

### git 分支操作
一个仓库可以有多个分支，默认创建好的仓库有一个默认的 main 分支，分支是仓库内用来存储项目的

创建新分支 `git branch 分支名`，注意创建新的分支之前，需要保证已有的分支和远端版本一致，创建好之后可以使用 `git branch` 查看本地的所有分支， 带 * 号和颜色的说明当前处于该分支。新创建好的分支，创建的时候里面的内容和 当前所在的分支内容一样，可以使用 `git checkout 分支名` 切换到对应的分支。当你想要将分支推送到远端，第一次推送的时候，由于远端并不存在新的分支，需要使用 `git push --set-upstream origin 分支名` 向远端提交

`git checkout -b 分支名` 新建分支并切换过去

当你创建分支之后，想直接上传到远端，直接使用 git push 即可，因为新的分支内容和已存在的分支内容一致，版本早就做好了。不需要 add 等

当其他的分支有优先于main 分支的版本的时候，网页端就会提示 pull request 等。就会提示你是否需要合并其他分支的更新。在命令行中进入到 main 分支，执行 `git merge 分支名` 合并 dev 分支上的更新


当主分支有优先于其他分支的版本的时候，我们可以在其他分支执行 `git pull origin main`, 拉取主分支上的更新。

### 一个特殊的分支 gh-pages 
当你的仓库内有一个 gh-pages 分支，那么该分支内的所有内容，被部署到了 github 的免费服务器上。可以使用 `github用户名.github.io/仓库名` 访问

#### 提示
- 仓库不能嵌套仓库
- 命令行中不能再仓库之外操作仓库
- git remote 添加远端地址的时候添加错误，可以使用 `git remote remove origin` 删除添加的远端地址
- 删除本地仓库之前，先要保证本地的和网上的同步，可以使用 `git status`,查看本地仓库状态
- 第一次使用 ssh 链接下载的时候，会询问你当前网络是否安全，敲 yes 回车。告诉他安全。
- 当你删除了仓库或者某个文件夹的时候，命令行恰巧命令打开在被删除的文件夹，那么把所有相关的文件夹关闭，然后重新在对应的位置打开新的命令行
- 当你进行分支操作的时候，一定注意当前的分支是不是所有修改都提交了。
- main 分支叫主分支，以后工作的时候大概率需要将自己分支的更新，合并到主分支

#### 常用 git 命令
- git init 初始化本地文件夹为一个 git 空仓库。(在文件夹内创建了一个隐藏的文件夹 .git/ )

- git clone 地址  克隆仓库到本地。(克隆的都是仓库内的 main 分支)

- git config ...  git 的配置命令
    - `git config --global http.sslVerify false` 忽略 ssl 认证
    - `git config --global user.email "you@example.com"`  设置全局的 github 邮箱 
    - `git config --global user.name "Your Name"`  设置全局的 github 用户名 
    - `git config --list` 查看 git 配置

- git add  ...   将对应的仓库的修改提交到 git 暂存区

- git commit -m'留言'  将暂存区的修改制作成版本，并添加版本留言

- git push 将当前分支的版本提交到远端
  - `git push [remote] [branch]`    远端不存在对应的分支时可以使用这种方式提交
  - `git push [remote] --force`   --force 参数是强制提交的意思(当本地的版本低于远端时，默认是不让提交的)

- git remote ...   
  - `git remote add [shortname] [url]` 给本地仓库添加一个远端地址，添加一次就不可修改了除非删除重新添加
  - `git remote remove [shortname]`  删除添加的远端地址

- git branch  分支相关操作
  - `git branch [分支名]`  新建分支
  - `git branch` 查看本地分支
  - `git branch -r` 查看远端分支
  - `git branch -a` 查看所有分支

- git checkout  切换分支
  - `git checkout [分支名]` 切换到对应的分支
  - `git checkout -b [分支名]`  新建并切换到对应的分支

- git status 查看仓库的状态

- git log 命令查看当前分支的所有版本  --online 用一行展示一个版本的信息

- git reflog  命令查看当前分支的所有版本 和 git log 的区别是该命令可以查看所有的版本信息，包括删除的和重置的

- git pull  拉取更新
  - 在本地的分支拉取远端对应的分支的更新
  - `git pull origin main` 在当前分支拉取主(main)分支上的更新

- git merge [分支名]  合并更新 主分支合并其他分支的更新

#### 奇葩问题
- 出现 OpenSSL 的错误，是 ssl 认证问题。可以使用 `git config --global http.sslVerify false` 全局忽略 ssl 认证。